<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-12-14">

<title>Team Assignment - Team 4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="SNA_team4_files/libs/clipboard/clipboard.min.js"></script>
<script src="SNA_team4_files/libs/quarto-html/quarto.js"></script>
<script src="SNA_team4_files/libs/quarto-html/popper.min.js"></script>
<script src="SNA_team4_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="SNA_team4_files/libs/quarto-html/anchor.min.js"></script>
<link href="SNA_team4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="SNA_team4_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="SNA_team4_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="SNA_team4_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="SNA_team4_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link active" data-scroll-target="#executive-summary">Executive Summary</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#dataset" id="toc-dataset" class="nav-link" data-scroll-target="#dataset">Dataset</a></li>
  <li><a href="#research-rationale" id="toc-research-rationale" class="nav-link" data-scroll-target="#research-rationale">Research Rationale</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#data-manipulation" id="toc-data-manipulation" class="nav-link" data-scroll-target="#data-manipulation">Data Manipulation</a></li>
  <li><a href="#modeling-strategy" id="toc-modeling-strategy" class="nav-link" data-scroll-target="#modeling-strategy">Modeling Strategy</a></li>
  <li><a href="#model-evaluation" id="toc-model-evaluation" class="nav-link" data-scroll-target="#model-evaluation">Model Evaluation</a>
  <ul class="collapse">
  <li><a href="#mcmc-diagnosis" id="toc-mcmc-diagnosis" class="nav-link" data-scroll-target="#mcmc-diagnosis">1. MCMC Diagnosis</a></li>
  <li><a href="#model-analysis" id="toc-model-analysis" class="nav-link" data-scroll-target="#model-analysis">2. Model Analysis</a></li>
  <li><a href="#hypotheses-validation" id="toc-hypotheses-validation" class="nav-link" data-scroll-target="#hypotheses-validation">3. Hypotheses Validation</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#appendices" id="toc-appendices" class="nav-link" data-scroll-target="#appendices">Appendices</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Team Assignment - Team 4</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Hanuye Wang (2129151), Shaghi Sharifian (2123294), Timo Timmermans (2052302), Vietlinh Pham (2148460), Patryk Slomka (2049498) </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 14, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="executive-summary" class="level1">
<h1>Executive Summary</h1>
<p>The research addresses the dynamics and connections between Mexican cartels using Exponential Graph Models (ERGMs). The main focus is set upon the rivalries between the cartels and what are the main reasons for them to form. Our study explicitly addresses three research questions:</p>
<ol type="1">
<li>Do cartels with a common enemy avoid rivalry between each other?</li>
<li>Are cartels with higher centrality more likely to engage in conflicts with other cartels?</li>
<li>How do geographic territories of operation affect rivalry formation?</li>
</ol>
<p>The above-mentioned re search questions propose the ideas that shared enemy of two cartels lead to no rivalry between those two parties; higher centrality of the cartel node increases the probability of conflict with other cartels; geographic factors like area of operation play a crucial role in creation of rivalries. Our results show the law enforcement and policymakers that cartels with shared enemy are less likely to be enemies, the geographic location of the cartel increases the likelihood of having rivals, and that the centrality of the cartel in alliance network not necessarily lead to having more rivals in the network.</p>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The Mexican cartels have long been notorious for their effectiveness and power, employing approximately 175,000 individuals (<span class="citation" data-cites="smith2021dope">Smith (<a href="#ref-smith2021dope" role="doc-biblioref">2021</a>)</span>) and being responsible for 14,000 homicides in 2022 (<span class="citation" data-cites="ucdp">Uppsala Conflict Data Program (<a href="#ref-ucdp" role="doc-biblioref">2022</a>)</span>). Currently, Mexico’s illicit networks are once again characterized by a bipolar cartel structure. While this bipolarity was once dominated by the Sinaloa Cartel and Los Zetas in the 2000s, today the two primary poles of power are the Sinaloa Cartel and the Cártel de Jalisco Nueva Generación (CJNG). However, they do not operate in isolation; numerous smaller cartels and criminal groups also influence Mexico’s illicit industries and have the potential to rise to prominence under favorable conditions, as has repeatedly occurred throughout the past century (<span class="citation" data-cites="jones2022social">Jones et al. (<a href="#ref-jones2022social" role="doc-biblioref">2022</a>)</span>).</p>
<p>The potential collapse of CJNG leadership through death or arrest or further fragmentation within the Sinaloa Cartel due to internal conflicts raises critical questions about which organizations may emerge to fill the power vacuum. Understanding these dynamics is therefore essential to proactively identify new threats. Not only is this important for policymakers in Mexico and the United States but also for those in Europe, particularly the Netherlands, as both of Mexico’s major cartels are expanding their operations globally, establishing drug production facilities and distribution networks with the assistance of local criminal organizations (<span class="citation" data-cites="europolDEAcomplexities">Europol-DEA et al. (<a href="#ref-europolDEAcomplexities" role="doc-biblioref">n.d.</a>)</span>).</p>
<p>To address these questions, it is important to analyze how both endogenous and exogenous factors influence cartel rivalries and, consequently, their power within the illicit industry. Earlier research has been done on the alliances and rivalries between the cartels. For example, by <span class="citation" data-cites="jones2022social">Jones et al. (<a href="#ref-jones2022social" role="doc-biblioref">2022</a>)</span> . They performed an exploratory analysis with the goal of getting an insight into the landscape of the dark networks in Mexico. Their research does, however, lack any form of causal inference as they mentioned in their paragraph on limitations and avenues for further research. Other research such as the 2022 article from Francisco Sollano Jr and the article from <span class="citation" data-cites="nix2016use">Nix et al. (<a href="#ref-nix2016use" role="doc-biblioref">2016</a>)</span> focus more on the relationship between members from allied gangs for a small subset. Thus, there is currently a need for causal network analysis on the alliances and rivalries between cartels to understand why the big two obtained their position in the competitive network and to understand which upcoming gangs are likely to become the center of future conflict. To address the need for causal network analysis in the context of alliances and rivalries in Mexico, an ERGM is conducted. This approach allows for the proper consideration of dependencies between the ‘nodes’ (cartels) in the network, while also accounting for broader social forces, such as tendency for criminal organization to form triadic relationships (<span class="citation" data-cites="asal2015with">Asal et al. (<a href="#ref-asal2015with" role="doc-biblioref">2015</a>)</span>). <span class="citation" data-cites="coutinho2020multilevel">Coutinho et al. (<a href="#ref-coutinho2020multilevel" role="doc-biblioref">2020</a>)</span> conducted an ERGM to the intelligence data from the Canadian province of Alberta to explore the conditions under which members of different, larger organized crime groups collaborate. Their study focused on criminals and criminal organizations involved in various crime types across multiple geographic locations. The findings revealed that when criminal groups operate in the same geographically concentrated illicit markets, their members are less likely to collaborate, indicating the challenges or undesirability of cross-group cooperation in such contexts (<span class="citation" data-cites="coutinho2020multilevel">Coutinho et al. (<a href="#ref-coutinho2020multilevel" role="doc-biblioref">2020</a>)</span>).</p>
<p>Similarly, <span class="citation" data-cites="asal2015with">Asal et al. (<a href="#ref-asal2015with" role="doc-biblioref">2015</a>)</span> applied an ERGM to analyze a dataset of 499 terrorist organizations that engaged in at least one act of terrorism between 1998 and 2005, in order to understand why terrorist groups, form alliances and rivalries. Their results showed that alliances tend to form between organizations that share similar motivations, are comparable in organizational age, target the same primary enemy, originate from the same region, and are based in countries with smaller militaries (<span class="citation" data-cites="asal2015with">Asal et al. (<a href="#ref-asal2015with" role="doc-biblioref">2015</a>)</span>). Thus, the application of ERGM in the context of organized crime and terrorist networks has proven to be a valuable tool for understanding the underlying factors that drive alliances and rivalries. By utilizing ERGM in the study of Mexican cartel rivalries, this research aims to better understand how both internal and external factors influence power dynamics in criminal networks. It will help reveal the conditions that lead to the formation or breakdown of rivalries and alliances within the cartels. Cartels follow their own goals and ambitions, which in some cases lead to tensions with other groups (<span class="citation" data-cites="trejo2018why">Trejo and Ley (<a href="#ref-trejo2018why" role="doc-biblioref">2018</a>)</span>). Our study aims to investigate how these conflicts are iniated and what impact they have on the cartel’s. Therefore, one of the research goals is to understand if the famous saying that “the enemy of my enemy is my friend” is also the case within this unprecedented context. It is hypothesized that if cartel A is a rival of cartel B, and cartel C is also a rival of cartel B, then cartels A and C are not likely to start a conflict with each other. This would serve as evidence that cartels facing the same enemy can unite merely by sharing the same adversary as a strategic approach to increase their strength compared to the other cartels. The dynamics that are presented here could be beneficial to the law enforcements and policymakers not only in Mexico, but around the world. This would help to understand how the cartels operate and what their motives for rivalries are. Therefore, the study introduces the first research question and supporting hypothesis:</p>
<p>RQ1: How do rivalries among Mexican cartels influence the formation of rivalries with other cartels, considering that cartels might avoid conflicting with their rivals’ enemies?</p>
<pre><code>Hypothesis 1:  Cartels that share a common enemy are less likely to form rivalries with each other, considering the principle that "the enemy of my enemy is my friend”.</code></pre>
<p>Cartels operate within a complex web of alliances and rivalries, where their position affects their access to resources and information. Additionally, it also affects their ability to coordinate with others. Understanding how a cartel’s prominence and behavior within these networks impacts the formation of rivalries is therefore crucial to unraveling the mechanisms of inter-cartel conflict. Consequently, the study will examine how centrality within competitive and alliance networks influences the probability of a cartel becoming a target of hostility or rivalry. Based on the existing literature by <span class="citation" data-cites="jones2022social">Jones et al. (<a href="#ref-jones2022social" role="doc-biblioref">2022</a>)</span> the paper therefore hypothesizes that a prominent cartel with a position of influence in the alliance network may be perceived as a greater threat or a more valuable target due to its superior access to resources and information. Similarly, the formation of extensive alliances by a cartel might provoke rivalries from other groups who see such partnerships as a challenge to their own dominance. Additionally, cartels that exhibit more aggressive behavior, whether through territorial expansion, violent tactics, or competitive disruption are likely to attract more adversaries, as their actions directly threaten other groups’ interests and provoke anger. This leads to our second research question and the corresponding hypotheses:</p>
<p>RQ2: In a competitive network, how does a cartel’s centrality in networks impact the formation of rivalries?</p>
<pre><code>Hypothesis 1:  Cartels with higher centrality (influence) in the alliance network indicating stronger connections and better access to information are more likely to have rivals because their prominence makes them significant targets.
Hypothesis 2:   Cartels with a greater number of alliances in the alliance network tend to have more rivals, as their extensive network of partnerships can provoke competition and hostility.
Hypothesis 3:   Cartels that display more aggressive behavior in the competitive network are more likely to form more rivalries.</code></pre>
<p>An expansive geographic reach increases the likelihood of direct competition for control over critical assets because it exposes cartels to a broader range of contested areas and strategic resources. As cartels expand their operations across multiple states, they often enter territories that are already controlled or coveted by rival groups. This overlap creates flashpoints for conflict, as control over lucrative markets (e.g., urban centers for drug distribution), supply chains (e.g., smuggling routes, transportation networks), and trade routes (e.g., highways, border crossings, or seaports) is critical to maintaining and growing their revenue streams. Additionally, when cartels operate in the same state it is expected that the probability of a rivalry increases due to competition for local resources and territory (<span class="citation" data-cites="dulin2020mexican">Dulin and Patiño (<a href="#ref-dulin2020mexican" role="doc-biblioref">2020</a>)</span>). Thus, the research question enables us to understand the relationship between the geographical distribution of cartels and conflict. These insights can help to identify cartel competition and ultimately intervene effectively in organized crime.</p>
<p>RQ3: How do geographic factors shape rivalry formation in competitive networks?</p>
<pre><code>Hypothesis 1:  Cartels operating in multiple states are more likely to form rivalries, as their wider geographic reach increases the potential for territorial disputes.
Hypothesis 2: Cartels operating within the same state are more likely to form rivalries due to intensified competition for local resources and control.</code></pre>
<p>The next parts of our research focus on the introduction of our dataset and used methodology. The paper aims to dive deeper into the rationale behind the usage of certain ERGM terms and alternatives to the model. Moreover, the results are analyzed to provide answers to the research questions and actionable insights for the beneficiaries in the form of policymakers, law enforcement and researchers.</p>
</section>
<section id="dataset" class="level1">
<h1>Dataset</h1>
<p>The dataset that the paper addresses was obtained from the official website of Mexico’s program against drugs called “Politica de Drogas” (<span class="citation" data-cites="ppdata2020">CentroGeo - GeoInt (<a href="#ref-ppdata2020" role="doc-biblioref">2020</a>)</span>). The data included in the dataset was first collected by Laura Helena Atuesta, Alejandro Procoroba, and Darina Nava. It includes alliances, rivalries, and areas of operation of cartels in Mexico during the year 2020. Such recently obtained information provides a better overview of the situation happening in the region nowadays. This is the main and only dataset that we used for our research to delve deeper into cartel dynamics and behavior, therefore it is of utmost importance for this paper. The data put together provides information on elements linked to the cartels that can shed a possible light on the subject of analyzing which cartels are allies and which ones are rivals. Based on the regions the cartels operate in; it might be also valuable to understand if the alliances and rivalries are based on distance and proximity or if this doesn’t play a role in their case. Furthermore, we can determine if shared criminal activities result in cartel cooperation or increased competition, merely by looking at the various unlawful activities e.g.&nbsp;drug trafficking. For example, cartels involved in related illegal activities may band together to increase profits or, on the other hand, may engage in intense competition to control the market.</p>
<p>By taking into account the territory size and armed conflicts between cartels, such insight could imply that cartels controlling larger territory are more inclined to engage in conflicts with their competitors. Having all that in mind, the dataset brings lots of value in determining cartels’ behavior on various fronts and the reasons for the fights among them. The dataset can provide evidence and support for the phenomena of cartel dynamics and their behavior. By answering the crucial research questions stated in this research, it can help scholars gain more in-depth knowledge about organized crime. However, potential biases must be taken into consideration. Due to the fact that cartels don’t openly publish information about their activities, the sources we used might be distorted or incomplete. This can have a potentially negative impact on the results that we obtained from our research, by giving misleading information about the cartel dynamics. It is therefore crucial to acknowledge those limitations. All things considered, the dataset that we analyzed is a useful tool for investigating the world of Mexican cartels, that provides details about their partnerships and rivalries. Based on our findings, researchers could better understand the factors affecting the cartel behavior and the potential consequences for the law enforcement and policymakers not only in Mexico, but around the globe.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/Figure1.jpg" class="img-fluid figure-img"></p>
<figcaption>Figure 1 - Number of cartels per state</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/Figure2.png" class="img-fluid figure-img"></p>
<figcaption>Figure 2 - Correlation matrix of cartel unlawful activities</figcaption>
</figure>
</div>
</section>
<section id="research-rationale" class="level1">
<h1>Research Rationale</h1>
<p>The ERGM is specifically useful in our case as it can lead to a better understanding of the complex relationships between Mexican cartels and their rivalries. Our first reason for choosing this model was because of the network modeling. The research questions that this paper addresses include the possibility of triadic closures in the network. Those are especially taken into account by ERGM and are beneficial for our study. The paper dives deeper into the ERGM terms used in the Results section. If traditional statistical methods were to be used, it could assume independence between the observations, and this is not our goal. Moreover, our hypotheses also could not be tested without the use of ERGM and based on that could not be supported or rejected. To make sure everything is correctly set up, we had to include specific terms into our model to test the hypotheses about the network formation. Another benefit of ERGM is that it is also flexible to some extent. It can include the node-level and edge-level attributes. By putting them together, the model can examine how these factors influence the formation of network. Last but not least, it also proposes interpretable coefficients that help us measure the network characteristics, such as the influence of alliances on rivalry creation. For our ERGM to provide the best results, we have chosen those terms:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/Table1.png" class="img-fluid figure-img"></p>
<figcaption>Table 1 - ERGM terms</figcaption>
</figure>
</div>
<p>Based on our research, there are other methods that would be also suitable to use in our study. One of them includes stochastic black models (SBM) or traditional social network analysis (SNA) techniques. The former would be useful to identify clusters and structures among network, however, would not provide many interesting insights about triadic closures or specific network configurations. The latter might provide additional insights into the descriptive analysis of the network but, as the goal is to find the interdependence between variables in the network, it would not be a suitable choice. For that reason, our ERGM is designed to capture the dependencies as stated in the research questions and hypotheses. By using the above-mentioned terms and especially ’gwesp’, we can observe and find the triadic closures within our model.</p>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<p>This study focuses on cartel rivalry and alliance networks in Mexico. We calculated the attributes of the alliance network, such as alliance degree and eigenvector centrality, and used them as exogenous variables to match with the rival network. In addition, the relationships between the states based on the cartel were encoded and State Dependency Matrices were constructed. This report uses ERGM to simulate the presence of edges in a competitive network as an endogenous network structure and an exogenous covariate. To address the research questions and test the hypotheses, ERGMs containing Edges, gwesp, Node Covariates, Edge Covariates, Degree Distribution, and gwdsp were included.</p>
<p>Gwesp captures triangular closure through weighted statistics. Kstar and gwdsp measure shared neighbors to reflect clustering effects. Node covariables like eigenvector centrality and num_states introduce heterogeneity. Edge covariates like state dependency matrices encode geographic dependencies, ensuring the model captures both structural and contextual dynamics effectively.</p>
<section id="data-manipulation" class="level2">
<h2 class="anchored" data-anchor-id="data-manipulation">Data Manipulation</h2>
<p>First of all, there are Rivalry data, Alliance data, and State Dependency data in the data source. By filtering the edges of type Rivalry and Alliance from the original data, we could generate the Rivalry Network and Alliance Network respectively. In the Rivalry Network, the study removed all isolated nodes with a degree of 0, which retains only the cartels involved in competitive relationships.</p>
<p>The data was cleaned, aggregating cartels that had the same name across multiple rows in the raw dataset into single entities to prepare the data for analysis. This ensured that every cartel was a unique node, with their alliances and rivalries, as well as operational attributes, consolidated in a manner representative of reality. The degree and influence of each node in the Alliance Network were calculated and added as node attributes in the Rivalry Network. The number of states for which each cartel is an active state has been counted and added as an attribute of the node (as another proxy for geographic extensiveness of operation of the cartel).</p>
<p>The paper produces two state dependency matrices. One is the binary matrix, “state_dependency_matrix1”, and one weighted, “state_dependency_matrix2”. The “state_dependency_matrix1” provides for each pair of cartels if they are or not present in the same state; while “state_dependency_matrix2” accounts for the number of shared states between the pairs. Lastly, the network was transformed into an object that could be used by ERGM for analysis to fit into the ERGM framework. NA values were checked and verified that indeed all attributes that needed validation were correctly assigned to the Rivalry Network.</p>
</section>
<section id="modeling-strategy" class="level2">
<h2 class="anchored" data-anchor-id="modeling-strategy">Modeling Strategy</h2>
<p>Our modeling strategy incorporated structural network terms and covariates to explore the rivalry ties among Mexican cartels. By iteratively adding and removing terms, this study aimed to balance model fit, interpretability, and alignment with research questions and hypotheses.</p>
<p>This study began with a baseline model that included only the edges term, which represents the baseline likelihood of rivalry edge forming. This initial model confirmed the sparsity of the network, with a negative and significant edges coefficient (-5.76, p &lt; 0.001). However, this model had poor fit metrics indicating that it did not capture much of the network’s structure. This motivated us to explore additional terms.</p>
<p>To investigate whether clustering tendencies influenced rivalry formation, we added the gwesp term with a scaling factor of 0.5. The inclusion of gwesp slightly improved the AIC (481.23), but the term itself was not statistically significant. This result indicated that clustering did not strongly influence rivalry edge in this network, leading us to delete it in later models.</p>
<p>To measure the impact of the number of cartel connections on rival relations in the alliance network, this study uses alliance_degree as a node attribute. This helps to explore whether the number of alliance relationships affects the formation of rival relationships. To address the geographic dynamics of rivalry formation, this research introduced the “state_dependency_matrix1” which is the binary matrix for the active state. The coefficient for this term was highly significant (3.53, p &lt; 0.001), showing a strong relationship between geographic overlap and rivalry formation. The inclusion of this term drastically improved model fit, reducing the residual deviance and demonstrating that shared state activity was an important driver of rivalry ties. However, the strong influence of “state_dependency_matrix1” increased potential over-reliance on this single binary covariate. To ensure that the model did not rely on this term, we conducted similarity analyses. To ensure that the model did not rely on this term, we conducted similarity analyses. Jaccard similarity (0.169) and normalized Hamming distance (0.158) calculations revealed that while the rivalry network and state matrix overlapped to some extent, the binary matrix explained only part of the network structure. To optimize the geographical covariates, we used a weighted state dependency matrix (“state_dependency_matrix2”).</p>
<p>The node-level covariates incorporated to address hypotheses related to cartel centrality. The nodecov(“alliance_degree”) term, which measures the direct connections of a cartel in the alliance network, consistently showed a positive and significant relationship with rivalry edge (e.g., 0.06, p &lt; 0.01). On the other hand, the nodecov(“alliance_eigenvector”) term, which captures broader influence in the alliance network, quantifies the influence of cartels in the alliance network, thereby revealing whether cartels with significant influence in the alliance network are more likely to form more rivalries. However, it was not consistently significant, suggesting that direct connections played a more prominent role than overall centrality. To address the structural dynamics of rivalry, we added terms for indirect ties and shared connections. The gwdsp measures the influence of indirect ties (paths of length 2). While initially inconsistent, this term became significant in later models, with a positive coefficient (0.75, p &lt; 0.001), showing that indirect ties influenced rivalry formation when combined with other covariates. The kstar2 term captures the effect of shared enemies and popularity and it is consistently significant negative coefficient (e.g., -0.84, p &lt; 0.001). Finally, the degree1 term, representing peripheral cartels with only one connection, was positive and significant (1.47, p &lt; 0.001), indicating distinct patterns among these cartels in rivalry formation. This term was included as a control variable to account for the influence of low-degree nodes on the network structure.</p>
<p>After evaluating all models, Model 9 is the final model. Model 9 integrates findings from previous iterations and explicitly addresses all research questions and hypotheses. It includes edges, gwdsp, kstar2, degree1, nodecov(“alliance_degree”), nodecov(“num_states”), and “state_dependency_matrix2”. It achieved the best AIC (463.84) and comparable BIC (510.39).</p>
</section>
<section id="model-evaluation" class="level2">
<h2 class="anchored" data-anchor-id="model-evaluation">Model Evaluation</h2>
<p>In conclusion, Model 9 was chosen because it provided the best balance of fit, interpretability, and alignment with the theoretical framework. Its inclusion of significant structural and covariate terms ensured a robust explanation of rivalry formation without over-relying on any single factor.</p>
<section id="mcmc-diagnosis" class="level3">
<h3 class="anchored" data-anchor-id="mcmc-diagnosis">1. MCMC Diagnosis</h3>
<p>All the trace plots oscillate steadily around the mean value, indicating that model have converged and is effectively sampling. No significant deviations or shifts were found in the graph, so the model is stable, and the parameters have been selected appropriately. The density plot of the three terms is smooth and close to normal, indicating that the three terms performed well in sampling. The goodness of fit for most parameters is distributed around the median, indicating a good model fit. The model statistics indicate that the model can well reproduce the term characteristics of the actual network. In the node degree distribution graph, the distribution of the simulated network roughly matches the distribution of the actual network. In the real network, the degrees of most nodes are concentrated in a small range (0 to 2), and as the degree increases, the proportion of nodes decreases rapidly.</p>
<p>The geodesic distance map reveals that the distribution of the simulated network is consistent with the actual network. However, there is a deviation in the distribution of nodes with a path length greater than 7.</p>
</section>
<section id="model-analysis" class="level3">
<h3 class="anchored" data-anchor-id="model-analysis">2. Model Analysis</h3>
<p>According to Table 2, the estimated value of edges is -3.69 and the p-value is less than 0.001, which means that after many iterations, the network is still very sparse. The edge term describes the overall tendency of rivalry ties to form, independent of other structural or covariate terms. Its negative coefficient suggests that rivalry relationships are generally unlikely to form in the network. These conflicts do not happen randomly and instead require the influence of other structural patterns or covariates.</p>
<p>Gwdsp coefficient of 0.621 indicates a strong clustering effect. The low standard error of 0.178 also confirms its reliability. This high positive coefficient indicates that the nodes play an important role in the network structure by sharing indirect connections formed by enemies. Agglomeration effects show that rivalry networks may be driven by common enemies, forming more complex indirect interactions rather than a single direct conflict.</p>
<p>The nodecov.alliance_eigenvector has a large standard error and p-values of 0.95 and 0.75 respectively. This indicates that centrality has no significant impact on network structure and that the indicators are not estimated accurately. A high p-value is not statistically significant, so the centrality of the coalition network does not necessarily make the cartel more likely to be a competitor. The coefficient (0.076) of nodecov.alliance_degree is positive, and the p-value is less than 0.05. This indicates that the number of alliance relationships is positively correlated with the formation of rivalry relationships and is significant. The coefficient of kstar is -0.76, and it has low standard error and p-value. This indicates that the network does not form a multi-party rivalry structure, and it is more inclined to a hierarchical structure.</p>
<p>The coefficient for nodecov(num_states) is -0.004. A smaller negative coefficient indicates that nodes that are active in more states are slightly less likely to form a connection. However, the p-value of 0.96 indicates the number of states will not relate to rivalry formation. As a result, the number of states in which a cartel is active does not have a meaningful impact on its likelihood to engage in rivalry relationships within the network. The coefficient of edgecov(state_dependency_matrix2) is 2.4 and p-value is smaller than 0.001. This positive and significant correlation means that geographical proximity or overlap is a key factor in the formation of rivalry. Cartels active in the same state are also more likely to conflict, possibly due to direct competition for territory, markets or resources.</p>
</section>
<section id="hypotheses-validation" class="level3">
<h3 class="anchored" data-anchor-id="hypotheses-validation">3. Hypotheses Validation</h3>
<p>To sum up, hypotheses can be verified one by one:</p>
<p>Hypothesis 1 of the RQ1 can be verified using gwdsp and kstar. A positive coefficient for gwdsp indicates that cartels with a common enemy tend to avoid and reduce competition. Furthermore, the fact that kstar has a negative coefficient means that the cartel will not be connected to another one through indirect links (common enemy). Therefore, the hypothesis is supported.</p>
<p>In the RQ2, the coefficient for nodecov.alliance_eigenvector is statistically insignificant, indicating that the centrality of the alliance network does not significantly influence the formation of rivalry. This means that cartels with higher or lower alliance centrality are not more or less likely to engage in conflicts. Thus, Hypotheses 1 is rejected. The positive correlation significance of nodecov.alliance_degree indicates that cartels with a higher number of alliance members are more likely to form rival relationships. Therefore, hypothesis 2 is verified. The negative coefficient for kstar suggests that cartels avoid conflicts involving multiple parties, even in dense subnetworks. This indicated the hypothesis that cartels with popularity (measured by Kstar) are more likely to engage in multi-party conflicts. As a result, Hypothesis 3 was also rejected.</p>
<p>The result of “nodecov.num_states” in RQ 3, shows that cross-states alliances will not affect rival relationships, which leads to the rejection of Hypothesis 1. Hypothesis 2 is confirmed by the large positive coefficient of “edgecov.state_dependency_matrix”. Cartels within the same state are more likely to compete due to direct competition for territory, markets, and resources.</p>
</section>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>The study focused on the understanding of the rivalry connections between Mexican cartels using the ERGM. The main research questions that was addressed, aimed to provide actionable insights into the rivalries connections between cartels and what influence them. From our analyses, we gained handful of important insights.</p>
<p>Firstly, for the RQ1, we found a support for the Hypothesis 1. This means that if two cartels have the same enemy, they are less likely to form rivalry with each other. The significance came from the positive coefficient of ‘gwdsp’ term and negative coefficient of the ‘kstar2’. Secondly, the hypotheses for RQ2 were rejected. Cartels with higher centrality measure were not engaged to the higher level in rivalries with other cartels. This implies that if the cartel has alliance with higher number of other cartels, it also tends to have more rivals. The third research question and underling hypotheses were significant and supported, showing that regions where cartels operate play a crucial role in the fact that cartels which operate on the same territory become rivals.</p>
<p>Our findings benefit mostly the policymakers and law enforcement agencies in Mexico. The case could be also applied to other parts pf the world, as it provides practical insights into the connections within crime-focused organizations networks. Based on the geographic insights, the law enforcement can better allocate the resources to predict the future possible rivalries and act before they escalate. Moreover, the researchers would be also beneficiaries of the findings, as it can give deeper knowledge into the contextual and structural elements influencing the cartels’ behavior.</p>
<p>The open problem that still remains is connected with the incompleteness of data and/or possible biased information in the analyzed dataset. The cartels’ behavior in terms of rivalries and alliances can also be influenced by other socio-economic and political factors. Future research could address those limitations by gathering more data to ensure and understand the wider perspective on the cartels’ behavior. Next to that, the usage of dynamic ERGMs would also be beneficial for the research, to capture the potential changes over time.</p>
</section>
<section id="appendices" class="level1">
<h1>Appendices</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/Table2.png" class="img-fluid figure-img"></p>
<figcaption>Table 2</figcaption>
</figure>
</div>

</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-asal2015with" class="csl-entry" role="listitem">
Asal, Victor H., Hyun Hee Park, R. Karl Rethemeyer, and Gary Ackerman. 2015. <span>“With Friends Like These . . . Why Terrorist Organizations Ally.”</span> <em>International Public Management Journal</em> 19 (1): 1–30. <a href="https://doi.org/10.1080/10967494.2015.1027431">https://doi.org/10.1080/10967494.2015.1027431</a>.
</div>
<div id="ref-ppdata2020" class="csl-entry" role="listitem">
CentroGeo - GeoInt. 2020. <span>“Plataforma de Proyección de Datos Abiertos (PPData).”</span> <a href="https://ppdata.politicadedrogas.org/#ppd.gc">https://ppdata.politicadedrogas.org/#ppd.gc</a>.
</div>
<div id="ref-coutinho2020multilevel" class="csl-entry" role="listitem">
Coutinho, Jorge A., Tomáš Diviák, David Bright, and Johan Koskinen. 2020. <span>“Multilevel Determinants of Collaboration Between Organised Criminal Groups.”</span> <em>Social Networks</em> 63: 56–69. <a href="https://doi.org/10.1016/j.socnet.2020.04.002">https://doi.org/10.1016/j.socnet.2020.04.002</a>.
</div>
<div id="ref-dulin2020mexican" class="csl-entry" role="listitem">
Dulin, Adam L., and Jorge Patiño. 2020. <span>“Mexican Cartel Expansion: A Quantitative Examination of Factors Associated with Territorial Claims.”</span> <em>Crime, Law and Social Change</em> 73: 315–36.
</div>
<div id="ref-europolDEAcomplexities" class="csl-entry" role="listitem">
Europol-DEA, European Monitoring Centre for Drugs, Drug Addiction, Beltrán Leyva Organisation, Sinaloa Cartel, Jalisco New Generation Cartel, United States Drug Enforcement Administration, et al. n.d. <span>“Complexities and Conveniences in the International Drug Trade: The Involvement of Mexican Criminal Actors in the EU Drug Market.”</span> Europol-DEA Public Document.
</div>
<div id="ref-jones2022social" class="csl-entry" role="listitem">
Jones, Nathan P., Ioana A. Chindea, Daniel W. Argomedo, and John P. Sullivan. 2022. <span>“A Social Network Analysis of Mexico’s Dark Network Alliance Structure.”</span> <em>Journal of Strategic Security</em> 15 (4): 76–105.
</div>
<div id="ref-nix2016use" class="csl-entry" role="listitem">
Nix, Justin, Michael R. Smith, Matthew Petrocelli, Jeff Rojek, and Victor M. Manjarrez. 2016. <span>“The Use of Social Media by Alleged Members of Mexican Cartels and Affiliated Drug Trafficking Organizations.”</span> <em>Journal of Homeland Security and Emergency Management</em> 13 (3): 395–418. <a href="https://doi.org/10.1515/jhsem-2015-0084">https://doi.org/10.1515/jhsem-2015-0084</a>.
</div>
<div id="ref-smith2021dope" class="csl-entry" role="listitem">
Smith, Benjamin T. 2021. <em>The Dope: The Real History of the Mexican Drug Trade</em>. Random House.
</div>
<div id="ref-trejo2018why" class="csl-entry" role="listitem">
Trejo, Guillermo, and Sandra Ley. 2018. <span>“Why Did Drug Cartels Go to War in Mexico? Subnational Party Alternation, the Breakdown of Criminal Protection, and the Onset of Large-Scale Violence.”</span> <em>Comparative Political Studies</em> 51 (7): 900–937.
</div>
<div id="ref-ucdp" class="csl-entry" role="listitem">
Uppsala Conflict Data Program, UCDP -. 2022. <span>“UCDP - Uppsala Conflict Data Program.”</span>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>